<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sp√©cifications Fonctionnelles - Syst√®me de Biblioth√®que</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
            background-color: #f8f9fa;
        }
        .container {
            background-color: white;
            padding: 40px;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        h1 {
            color: #2c3e50;
            border-bottom: 3px solid #3498db;
            padding-bottom: 10px;
            margin-bottom: 30px;
        }
        h2 {
            color: #34495e;
            margin-top: 30px;
            margin-bottom: 15px;
            border-left: 4px solid #3498db;
            padding-left: 15px;
        }
        h3 {
            color: #2c3e50;
            margin-top: 25px;
            margin-bottom: 10px;
        }
        .template {
            background-color: #ecf0f1;
            padding: 20px;
            border-radius: 5px;
            margin-bottom: 30px;
            border-left: 4px solid #95a5a6;
        }
        .example {
            background-color: #e8f5e8;
            padding: 20px;
            border-radius: 5px;
            margin-bottom: 30px;
            border-left: 4px solid #27ae60;
        }
        .function {
            background-color: #f8f9fa;
            padding: 20px;
            border-radius: 5px;
            margin-bottom: 25px;
            border: 1px solid #dee2e6;
        }
        ul {
            padding-left: 20px;
        }
        li {
            margin-bottom: 5px;
        }
        ol {
            padding-left: 20px;
        }
        ol li {
            margin-bottom: 8px;
        }
        .separator {
            border-top: 2px solid #bdc3c7;
            margin: 30px 0;
        }
        .download-btn {
            background-color: #3498db;
            color: white;
            padding: 12px 25px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-size: 16px;
            margin-top: 20px;
            transition: background-color 0.3s;
        }
        .download-btn:hover {
            background-color: #2980b9;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>Mod√®le de sp√©cification fonctionnelle pour chaque fonctionnalit√©</h1>
        
        <div class="template">
            <h2>Fonctionnalit√© : [Nom de la fonctionnalit√©]</h2>
            
            <h3>R√®gles de gestion :</h3>
            <ul>
                <li>[R√®gle 1]</li>
                <li>[R√®gle 2]</li>
                <li>[R√®gle 3]</li>
            </ul>
            
            <h3>Sc√©nario nominal :</h3>
            <ol>
                <li>[Acteur] se connecte.</li>
                <li>[√âtape 2]</li>
                <li>[√âtape 3]</li>
                <li>...</li>
                <li>[Derni√®re √©tape]</li>
            </ol>
            
            <h3>Traitement syst√®me :</h3>
            <ul>
                <li>[Traitement 1]</li>
                <li>[Traitement 2]</li>
                <li>[Traitement 3]</li>
            </ul>
            
            <h3>R√©sultat attendu :</h3>
            <ul>
                <li>[R√©sultat 1]</li>
                <li>[R√©sultat 2]</li>
                <li>[R√©sultat 3]</li>
            </ul>
        </div>
        
        <div class="separator"></div>
        
        <div class="example">
            <h2>Exemple : Retourner un livre</h2>
            
            <h3>R√®gles de gestion :</h3>
            <ul>
                <li>Le livre doit √™tre en pr√™t (Adh√©rent-Exemplaire avec dateRetour vide).</li>
                <li>Si le retour est en retard ‚Üí v√©rifier si p√©nalit√© applicable.</li>
                <li>V√©rifier si jour f√©ri√©.</li>
            </ul>
            
            <h3>Sc√©nario nominal :</h3>
            <ol>
                <li>Biblioth√©caire se connecte.</li>
                <li>Va dans ¬´ Gestion des retours ¬ª.</li>
                <li>S√©lectionne l'adh√©rent ou le num√©ro d'exemplaire.</li>
                <li>Clique sur ¬´ Retourner ¬ª.</li>
                <li>Le syst√®me :
                    <ul>
                        <li>Remplit dateRetour.</li>
                        <li>Rend l'exemplaire disponible.</li>
                        <li>V√©rifie les retards ‚Üí applique p√©nalit√© si besoin.</li>
                    </ul>
                </li>
            </ol>
            
            <h3>R√©sultat attendu :</h3>
            <ul>
                <li>Exemplaire disponible.</li>
                <li>Pr√™t cl√¥tur√©.</li>
                <li>P√©nalit√© √©ventuelle enregistr√©e dans Adh√©rent-P√©nalit√©.</li>
            </ul>
        </div>
        
        <div class="separator"></div>
        
        <div class="function">
            <h2>Fonctionnalit√© : Gestion des adh√©rents</h2>
            
            <h3>R√®gles de gestion :</h3>
            <ul>
                <li>Un adh√©rent doit avoir un nom, une date de naissance et un r√¥le valide.</li>
                <li>Un adh√©rent ne peut pas √™tre supprim√© s'il a des pr√™ts ou r√©servations en cours.</li>
            </ul>
            
            <h3>Sc√©nario nominal :</h3>
            <ol>
                <li>Biblioth√©caire se connecte.</li>
                <li>Va dans ¬´ Gestion des adh√©rents ¬ª.</li>
                <li>Ajoute, modifie ou supprime un adh√©rent.</li>
                <li>Le syst√®me v√©rifie les r√®gles et enregistre les modifications.</li>
            </ol>
            
            <h3>Traitement syst√®me :</h3>
            <ul>
                <li>V√©rification des champs obligatoires.</li>
                <li>V√©rification des d√©pendances (pr√™ts/r√©servations).</li>
                <li>Enregistrement ou suppression de l'adh√©rent.</li>
            </ul>
            
            <h3>R√©sultat attendu :</h3>
            <ul>
                <li>Adh√©rent ajout√©, modifi√© ou supprim√©.</li>
                <li>Message d'erreur si suppression impossible.</li>
            </ul>
        </div>
        
        <div class="function">
            <h2>Fonctionnalit√© : Gestion des livres</h2>
            
            <h3>R√®gles de gestion :</h3>
            <ul>
                <li>Un livre doit avoir un titre, un auteur, un √©diteur et une ann√©e de publication.</li>
                <li>Un livre ne peut pas √™tre supprim√© s'il a des exemplaires ou des r√©servations.</li>
            </ul>
            
            <h3>Sc√©nario nominal :</h3>
            <ol>
                <li>Biblioth√©caire se connecte.</li>
                <li>Va dans ¬´ Gestion des livres ¬ª.</li>
                <li>Ajoute, modifie ou supprime un livre.</li>
                <li>Le syst√®me v√©rifie les r√®gles et enregistre les modifications.</li>
            </ol>
            
            <h3>Traitement syst√®me :</h3>
            <ul>
                <li>V√©rification des champs obligatoires.</li>
                <li>V√©rification des d√©pendances (exemplaires/r√©servations).</li>
                <li>Enregistrement ou suppression du livre.</li>
            </ul>
            
            <h3>R√©sultat attendu :</h3>
            <ul>
                <li>Livre ajout√©, modifi√© ou supprim√©.</li>
                <li>Message d'erreur si suppression impossible.</li>
            </ul>
        </div>
        
        <div class="function">
            <h2>Fonctionnalit√© : Gestion des exemplaires</h2>
            
            <h3>R√®gles de gestion :</h3>
            <ul>
                <li>Un exemplaire est li√© √† un livre existant.</li>
                <li>Le nombre d'exemplaires disponibles doit √™tre positif.</li>
            </ul>
            
            <h3>Sc√©nario nominal :</h3>
            <ol>
                <li>Biblioth√©caire se connecte.</li>
                <li>Va dans ¬´ Gestion des exemplaires ¬ª.</li>
                <li>Ajoute, modifie ou supprime un exemplaire.</li>
                <li>Le syst√®me v√©rifie les r√®gles et enregistre les modifications.</li>
            </ol>
            
            <h3>Traitement syst√®me :</h3>
            <ul>
                <li>V√©rification du lien avec un livre.</li>
                <li>V√©rification du nombre disponible.</li>
                <li>Enregistrement ou suppression de l'exemplaire.</li>
            </ul>
            
            <h3>R√©sultat attendu :</h3>
            <ul>
                <li>Exemplaire ajout√©, modifi√© ou supprim√©.</li>
            </ul>
        </div>
        
        <div class="function">
            <h2>Fonctionnalit√© : Gestion des cat√©gories</h2>
            
            <h3>R√®gles de gestion :</h3>
            <ul>
                <li>Une cat√©gorie doit avoir un nom unique.</li>
                <li>Un livre peut appartenir √† plusieurs cat√©gories.</li>
            </ul>
            
            <h3>Sc√©nario nominal :</h3>
            <ol>
                <li>Biblioth√©caire se connecte.</li>
                <li>Va dans ¬´ Gestion des cat√©gories ¬ª.</li>
                <li>Ajoute, modifie ou supprime une cat√©gorie.</li>
                <li>Le syst√®me v√©rifie les r√®gles et enregistre les modifications.</li>
            </ol>
            
            <h3>Traitement syst√®me :</h3>
            <ul>
                <li>V√©rification du nom unique.</li>
                <li>Mise √† jour des associations livre-cat√©gorie.</li>
            </ul>
            
            <h3>R√©sultat attendu :</h3>
            <ul>
                <li>Cat√©gorie ajout√©e, modifi√©e ou supprim√©e.</li>
            </ul>
        </div>
        
        <div class="function">
            <h2>Fonctionnalit√© : Gestion des abonnements</h2>
            
            <h3>R√®gles de gestion :</h3>
            <ul>
                <li>Un adh√©rent doit √™tre abonn√© pour emprunter ou r√©server.</li>
                <li>Un abonnement est li√© √† un adh√©rent et une date.</li>
            </ul>
            
            <h3>Sc√©nario nominal :</h3>
            <ol>
                <li>Adh√©rent ou biblioth√©caire se connecte.</li>
                <li>Va dans ¬´ Abonnement ¬ª.</li>
                <li>Souscrit ou renouvelle un abonnement.</li>
                <li>Le syst√®me v√©rifie les r√®gles et enregistre l'abonnement.</li>
            </ol>
            
            <h3>Traitement syst√®me :</h3>
            <ul>
                <li>V√©rification de l'√©tat d'abonnement.</li>
                <li>Enregistrement ou renouvellement de l'abonnement.</li>
            </ul>
            
            <h3>R√©sultat attendu :</h3>
            <ul>
                <li>Abonnement actif pour l'adh√©rent.</li>
            </ul>
        </div>
        
        <div class="function">
            <h2>Fonctionnalit√© : Gestion des pr√™ts</h2>
            
            <h3>R√®gles de gestion :</h3>
            <ul>
                <li>Un exemplaire ne peut √™tre pr√™t√© que s'il est disponible.</li>
                <li>Un adh√©rent ne peut pas d√©passer le nombre de pr√™ts autoris√© par son r√¥le.</li>
                <li>La dur√©e du pr√™t d√©pend du r√¥le.</li>
            </ul>
            
            <h3>Sc√©nario nominal :</h3>
            <ol>
                <li>Biblioth√©caire se connecte.</li>
                <li>Va dans ¬´ Gestion des pr√™ts ¬ª.</li>
                <li>S√©lectionne l'adh√©rent et l'exemplaire.</li>
                <li>D√©finit la date de retour pr√©vue.</li>
                <li>Le syst√®me v√©rifie les r√®gles et enregistre le pr√™t.</li>
            </ol>
            
            <h3>Traitement syst√®me :</h3>
            <ul>
                <li>V√©rification de la disponibilit√© de l'exemplaire.</li>
                <li>V√©rification du nombre de pr√™ts en cours.</li>
                <li>Calcul de la date de retour selon le r√¥le.</li>
                <li>Enregistrement du pr√™t et mise √† jour de la disponibilit√©.</li>
            </ul>
            
            <h3>R√©sultat attendu :</h3>
            <ul>
                <li>Pr√™t enregistr√©.</li>
                <li>Exemplaire non disponible.</li>
            </ul>
        </div>
        
        <div class="function">
            <h2>Fonctionnalit√© : Gestion des retours</h2>
            
            <h3>R√®gles de gestion :</h3>
            <ul>
                <li>Le livre doit √™tre en pr√™t (Adh√©rent-Exemplaire avec dateRetour vide).</li>
                <li>Si le retour est en retard ‚Üí v√©rifier si p√©nalit√© applicable.</li>
                <li>V√©rifier si jour f√©ri√©.</li>
            </ul>
            
            <h3>Sc√©nario nominal :</h3>
            <ol>
                <li>Biblioth√©caire se connecte.</li>
                <li>Va dans ¬´ Gestion des retours ¬ª.</li>
                <li>S√©lectionne l'adh√©rent ou le num√©ro d'exemplaire.</li>
                <li>Clique sur ¬´ Retourner ¬ª.</li>
                <li>Le syst√®me :
                    <ul>
                        <li>Remplit dateRetour.</li>
                        <li>Rend l'exemplaire disponible.</li>
                        <li>V√©rifie les retards ‚Üí applique p√©nalit√© si besoin.</li>
                    </ul>
                </li>
            </ol>
            
            <h3>R√©sultat attendu :</h3>
            <ul>
                <li>Exemplaire disponible.</li>
                <li>Pr√™t cl√¥tur√©.</li>
                <li>P√©nalit√© √©ventuelle enregistr√©e dans Adh√©rent-P√©nalit√©.</li>
            </ul>
        </div>
        
        <div class="function">
            <h2>Fonctionnalit√© : Gestion des prolongements de pr√™t</h2>
            
            <h3>R√®gles de gestion :</h3>
            <ul>
                <li>Un pr√™t peut √™tre prolong√© selon le r√¥le et le nombre de jours autoris√©.</li>
                <li>Un pr√™t d√©j√† rendu ne peut pas √™tre prolong√©.</li>
            </ul>
            
            <h3>Sc√©nario nominal :</h3>
            <ol>
                <li>Adh√©rent ou biblioth√©caire se connecte.</li>
                <li>Va dans ¬´ Mes pr√™ts ¬ª ou ¬´ Gestion des pr√™ts ¬ª.</li>
                <li>S√©lectionne un pr√™t en cours.</li>
                <li>Demande un prolongement.</li>
                <li>Le syst√®me v√©rifie les r√®gles et applique la prolongation si possible.</li>
            </ol>
            
            <h3>Traitement syst√®me :</h3>
            <ul>
                <li>V√©rification du statut du pr√™t.</li>
                <li>V√©rification du nombre de jours autoris√©.</li>
                <li>Mise √† jour de la date de retour.</li>
            </ul>
            
            <h3>R√©sultat attendu :</h3>
            <ul>
                <li>Pr√™t prolong√© ou message d'erreur si refus.</li>
            </ul>
        </div>
        
        <div class="function">
            <h2>Fonctionnalit√© : Gestion des r√©servations</h2>
            
            <h3>R√®gles de gestion :</h3>
            <ul>
                <li>Un adh√©rent doit √™tre abonn√© et non p√©nalis√© pour r√©server.</li>
                <li>Un livre ne peut pas √™tre r√©serv√© si d√©j√† r√©serv√© et confirm√© pour la m√™me date.</li>
                <li>Un adh√©rent ne peut pas d√©passer le nombre de r√©servations autoris√© par son r√¥le.</li>
                <li>Impossible de r√©server un jour f√©ri√©.</li>
            </ul>
            
            <h3>Sc√©nario nominal :</h3>
            <ol>
                <li>Adh√©rent ou biblioth√©caire se connecte.</li>
                <li>Va dans ¬´ R√©server un livre ¬ª.</li>
                <li>S√©lectionne le livre et la date.</li>
                <li>Le syst√®me v√©rifie les r√®gles et enregistre la r√©servation.</li>
            </ol>
            
            <h3>Traitement syst√®me :</h3>
            <ul>
                <li>V√©rification de l'abonnement et des p√©nalit√©s.</li>
                <li>V√©rification de la disponibilit√© du livre √† la date.</li>
                <li>V√©rification du nombre de r√©servations en cours.</li>
                <li>V√©rification du jour f√©ri√©.</li>
                <li>Enregistrement de la r√©servation et du statut initial.</li>
            </ul>
            
            <h3>R√©sultat attendu :</h3>
            <ul>
                <li>R√©servation enregistr√©e ou message d'erreur.</li>
            </ul>
        </div>
        
        <div class="function">
            <h2>Fonctionnalit√© : Gestion des p√©nalit√©s</h2>
            
            <h3>R√®gles de gestion :</h3>
            <ul>
                <li>Un adh√©rent en retard ou ayant enfreint une r√®gle re√ßoit une p√©nalit√©.</li>
                <li>Un adh√©rent p√©nalis√© ne peut pas r√©server ni emprunter.</li>
            </ul>
            
            <h3>Sc√©nario nominal :</h3>
            <ol>
                <li>Biblioth√©caire se connecte.</li>
                <li>Va dans ¬´ Gestion des p√©nalit√©s ¬ª.</li>
                <li>Consulte ou applique une p√©nalit√© √† un adh√©rent.</li>
            </ol>
            
            <h3>Traitement syst√®me :</h3>
            <ul>
                <li>D√©tection automatique des retards.</li>
                <li>Application de la p√©nalit√©.</li>
                <li>Blocage des actions de l'adh√©rent p√©nalis√©.</li>
            </ul>
            
            <h3>R√©sultat attendu :</h3>
            <ul>
                <li>P√©nalit√© enregistr√©e.</li>
                <li>Adh√©rent bloqu√© pour r√©servation/emprunt.</li>
            </ul>
        </div>
        
        <div class="function">
            <h2>Fonctionnalit√© : Gestion des jours f√©ri√©s</h2>
            
            <h3>R√®gles de gestion :</h3>
            <ul>
                <li>Un jour f√©ri√© ne peut pas √™tre r√©serv√© ni utilis√© comme date de retour.</li>
                <li>Les jours f√©ri√©s sont d√©finis par l'administrateur.</li>
            </ul>
            
            <h3>Sc√©nario nominal :</h3>
            <ol>
                <li>Administrateur se connecte.</li>
                <li>Va dans ¬´ Gestion des jours f√©ri√©s ¬ª.</li>
                <li>Ajoute, modifie ou supprime un jour f√©ri√©.</li>
                <li>Le syst√®me v√©rifie les r√®gles et enregistre la modification.</li>
            </ol>
            
            <h3>Traitement syst√®me :</h3>
            <ul>
                <li>V√©rification de l'unicit√© de la date.</li>
                <li>Blocage des r√©servations et retours sur ces dates.</li>
            </ul>
            
            <h3>R√©sultat attendu :</h3>
            <ul>
                <li>Jour f√©ri√© ajout√©, modifi√© ou supprim√©.</li>
                <li>R√©servations et retours impossibles √† cette date.</li>
            </ul>
        </div>
        
        <button class="download-btn" onclick="downloadAsWord()">üìÑ T√©l√©charger en Word (.docx)</button>
    </div>
    
    <script>
        function downloadAsWord() {
            // Cr√©er le contenu HTML pour Word
            const content = document.querySelector('.container').innerHTML;
            
            // Cr√©er un blob avec le contenu HTML format√© pour Word
            const htmlContent = `
                <html xmlns:o="urn:schemas-microsoft-com:office:office"
                      xmlns:w="urn:schemas-microsoft-com:office:word"
                      xmlns="http://www.w3.org/TR/REC-html40">
                <head>
                    <meta charset="utf-8">
                    <title>Sp√©cifications Fonctionnelles</title>
                    <style>
                        body { font-family: Arial, sans-serif; line-height: 1.6; margin: 20px; }
                        h1 { color: #2c3e50; border-bottom: 3px solid #3498db; padding-bottom: 10px; }
                        h2 { color: #34495e; margin-top: 30px; border-left: 4px solid #3498db; padding-left: 15px; }
                        h3 { color: #2c3e50; margin-top: 25px; }
                        .template { background-color: #ecf0f1; padding: 20px; margin-bottom: 30px; }
                        .example { background-color: #e8f5e8; padding: 20px; margin-bottom: 30px; }
                        .function { background-color: #f8f9fa; padding: 20px; margin-bottom: 25px; border: 1px solid #dee2e6; }
                        ul, ol { padding-left: 20px; }
                        li { margin-bottom: 5px; }
                        .separator { border-top: 2px solid #bdc3c7; margin: 30px 0; }
                        .download-btn { display: none; }
                    </style>
                </head>
                <body>
                    ${content}
                </body>
                </html>
            `;
            
            const blob = new Blob([htmlContent], { type: 'application/msword' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = 'specifications_fonctionnelles.docx';
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
            URL.revokeObjectURL(url);
        }
    </script>
</body>
</html>